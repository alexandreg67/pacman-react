<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R√©sum√© - Tests Visuels Modale Game Over</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            color: #f1f5f9;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .card {
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            border: 1px solid rgba(148, 163, 184, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .card h2 {
            color: #60a5fa;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card h3 {
            color: #a78bfa;
            margin: 16px 0 8px 0;
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .status-card {
            background: linear-gradient(135deg, #374151 0%, #1f2937 100%);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid;
        }

        .status-mobile { border-left-color: #f59e0b; }
        .status-tablet { border-left-color: #06b6d4; }
        .status-desktop { border-left-color: #10b981; }

        .test-list {
            list-style: none;
            padding: 0;
        }

        .test-list li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(148, 163, 184, 0.1);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .test-list li:last-child {
            border-bottom: none;
        }

        .btn {
            display: inline-block;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #2563eb, #1e40af);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #6b7280, #374151);
            color: white;
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, #4b5563, #1f2937);
        }

        .alert {
            padding: 16px;
            border-radius: 8px;
            margin: 16px 0;
            border-left: 4px solid;
        }

        .alert-info {
            background: rgba(59, 130, 246, 0.1);
            border-left-color: #3b82f6;
            color: #93c5fd;
        }

        .alert-warning {
            background: rgba(245, 158, 11, 0.1);
            border-left-color: #f59e0b;
            color: #fbbf24;
        }

        .alert-success {
            background: rgba(16, 185, 129, 0.1);
            border-left-color: #10b981;
            color: #6ee7b7;
        }

        .code {
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid #334155;
            border-radius: 6px;
            padding: 2px 8px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 14px;
            color: #94a3b8;
        }

        .resolution-badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-right: 8px;
        }

        .badge-mobile { background: #f59e0b; color: #1a1a1a; }
        .badge-tablet { background: #06b6d4; color: #1a1a1a; }
        .badge-desktop { background: #10b981; color: #1a1a1a; }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(148, 163, 184, 0.2);
            border-radius: 4px;
            overflow: hidden;
            margin: 8px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #059669);
            transition: width 0.3s ease;
        }

        .instructions-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .instructions-grid {
                grid-template-columns: 1fr;
            }
        }

        .checklist {
            list-style: none;
            padding: 0;
        }

        .checklist li {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(148, 163, 184, 0.1);
        }

        .checklist input[type="checkbox"] {
            margin-top: 2px;
        }

        .links-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üéÆ Tests Visuels - Modale Game Over Pac-Man</h1>
            <p>√âtape 6 : Validation mobile, tablette et desktop</p>
        </header>

        <!-- Status actuel -->
        <div class="card">
            <h2>üìä √âtat Actuel des Tests</h2>
            
            <div class="status-grid">
                <div class="status-card status-mobile">
                    <h3><span class="resolution-badge badge-mobile">üì±</span>Mobile - 375px</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 0%"></div>
                    </div>
                    <p><strong>0/7 tests compl√©t√©s</strong></p>
                    <ul class="test-list">
                        <li>‚è∏Ô∏è Centrage parfait de la modale</li>
                        <li>‚è∏Ô∏è Modale reste centr√©e apr√®s scroll</li>
                        <li>‚è∏Ô∏è Aucun scroll parasite</li>
                        <li>‚è∏Ô∏è Overlay couvre tout l'√©cran</li>
                        <li>‚è∏Ô∏è Interactions bloqu√©es</li>
                        <li>‚è∏Ô∏è Animation glow-pulse visible</li>
                        <li>‚è∏Ô∏è Animation delay-1000 visible</li>
                    </ul>
                </div>

                <div class="status-card status-tablet">
                    <h3><span class="resolution-badge badge-tablet">üìü</span>Tablette - 768px</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 0%"></div>
                    </div>
                    <p><strong>0/7 tests compl√©t√©s</strong></p>
                    <ul class="test-list">
                        <li>‚è∏Ô∏è Centrage parfait de la modale</li>
                        <li>‚è∏Ô∏è Modale reste centr√©e apr√®s scroll</li>
                        <li>‚è∏Ô∏è Aucun scroll parasite</li>
                        <li>‚è∏Ô∏è Overlay couvre tout l'√©cran</li>
                        <li>‚è∏Ô∏è Interactions bloqu√©es</li>
                        <li>‚è∏Ô∏è Animation glow-pulse fluide</li>
                        <li>‚è∏Ô∏è Animation delay-1000 visible</li>
                    </ul>
                </div>

                <div class="status-card status-desktop">
                    <h3><span class="resolution-badge badge-desktop">üñ•Ô∏è</span>Desktop - ‚â•1280px</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 0%"></div>
                    </div>
                    <p><strong>0/7 tests compl√©t√©s</strong></p>
                    <ul class="test-list">
                        <li>‚è∏Ô∏è Centrage sur viewport complet</li>
                        <li>‚è∏Ô∏è Centrage apr√®s scroll de page</li>
                        <li>‚è∏Ô∏è Overlay bloque tout</li>
                        <li>‚è∏Ô∏è Couvre tout le viewport</li>
                        <li>‚è∏Ô∏è Aucune interaction possible</li>
                        <li>‚è∏Ô∏è Animation glow-pulse bien visible</li>
                        <li>‚è∏Ô∏è Animation delay-1000 sur d√©corations</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Liens rapides -->
        <div class="card">
            <h2>üöÄ Liens Rapides</h2>
            
            <div class="links-grid">
                <a href="http://localhost:5176/" target="_blank" class="btn btn-primary">
                    üéÆ Ouvrir l'Application
                </a>
                <a href="test-visual-modal.html" target="_blank" class="btn btn-secondary">
                    üìã Guide de Test D√©taill√©
                </a>
                <a href="#" onclick="copyTestScript()" class="btn btn-secondary">
                    üìú Copier le Script de Test
                </a>
                <a href="#instructions" class="btn btn-secondary">
                    üìñ Instructions Compl√®tes
                </a>
            </div>
        </div>

        <!-- √âtat technique actuel -->
        <div class="card">
            <h2>üîß √âtat Technique de l'Impl√©mentation</h2>
            
            <div class="alert alert-success">
                <strong>‚úÖ Corrections appliqu√©es :</strong>
                <ul style="margin-top: 8px;">
                    <li>Overlay utilise <code class="code">position: fixed</code></li>
                    <li>Classes <code class="code">fixed inset-0</code> pour couvrir tout le viewport</li>
                    <li>Z-index √©lev√© (40 et 50) pour √™tre au-dessus de tout</li>
                    <li>Container de modale avec <code class="code">flex items-center justify-center</code></li>
                </ul>
            </div>

            <div class="alert alert-info">
                <strong>üìç Code actuel (Board.tsx lignes 298-314) :</strong>
                <pre style="margin-top: 8px; background: rgba(15, 23, 42, 0.8); padding: 12px; border-radius: 6px; overflow-x: auto;"><code>{state.gameStatus === 'game-over' && onRestart && (
  <>
    <div className="fixed inset-0 bg-black bg-opacity-100 z-40 pointer-events-auto" />
    <div className="fixed inset-0 flex items-center justify-center p-4 z-50">
      <GameOverScreen
        score={state.score}
        onRestart={onRestart}
        level={state.level}
        timeElapsed={...}
      />
    </div>
  </>
)}</code></pre>
            </div>

            <div class="alert alert-warning">
                <strong>‚ö†Ô∏è Points √† v√©rifier manuellement :</strong>
                <ul style="margin-top: 8px;">
                    <li>Le centrage visuel sur toutes les r√©solutions</li>
                    <li>Les animations <code class="code">glow-pulse</code> et <code class="code">animation-delay-1000</code></li>
                    <li>Le comportement apr√®s scroll de la page</li>
                    <li>Le blocage complet des interactions</li>
                </ul>
            </div>
        </div>

        <!-- Instructions -->
        <div class="card" id="instructions">
            <h2>üìñ Guide de Test Complet</h2>
            
            <div class="instructions-grid">
                <div>
                    <h3>1Ô∏è‚É£ Pr√©paration</h3>
                    <ol style="padding-left: 20px;">
                        <li>Ouvrir <a href="http://localhost:5176/" target="_blank" style="color: #60a5fa;">http://localhost:5176/</a></li>
                        <li>Ouvrir DevTools (F12)</li>
                        <li>Activer Device Toolbar (ic√¥ne mobile)</li>
                        <li>Coller le script de test dans la console</li>
                    </ol>
                </div>

                <div>
                    <h3>2Ô∏è‚É£ Test d'une R√©solution</h3>
                    <ol style="padding-left: 20px;">
                        <li>Configurer la r√©solution dans DevTools</li>
                        <li>Jouer et perdre pour d√©clencher Game Over</li>
                        <li>Ex√©cuter <code class="code">modalTester.testCurrentResolution()</code></li>
                        <li>Noter les r√©sultats</li>
                    </ol>
                </div>
            </div>

            <h3>3Ô∏è‚É£ R√©solutions √† Tester</h3>
            <div class="instructions-grid">
                <div>
                    <h4>üì± Mobile</h4>
                    <ul>
                        <li><strong>iPhone SE :</strong> 375 √ó 667px</li>
                        <li><strong>iPhone 12 :</strong> 390 √ó 844px</li>
                        <li>V√©rifier lisibilit√© sans zoom</li>
                        <li>Boutons facilement touchables</li>
                    </ul>
                </div>

                <div>
                    <h4>üìü Tablette</h4>
                    <ul>
                        <li><strong>iPad :</strong> 768 √ó 1024px</li>
                        <li><strong>iPad Pro :</strong> 1024 √ó 1366px</li>
                        <li>Espacement appropri√©</li>
                        <li>Taille de modale √©quilibr√©e</li>
                    </ul>
                </div>
            </div>

            <div>
                <h4>üñ•Ô∏è Desktop</h4>
                <ul style="columns: 3; column-gap: 20px;">
                    <li><strong>HD :</strong> 1280 √ó 720px</li>
                    <li><strong>HD+ :</strong> 1440 √ó 900px</li>
                    <li><strong>Full HD :</strong> 1920 √ó 1080px</li>
                    <li><strong>QHD :</strong> 2560 √ó 1440px</li>
                </ul>
            </div>

            <h3>4Ô∏è‚É£ Points Critiques √† V√©rifier</h3>
            <ul class="checklist">
                <li>
                    <input type="checkbox" id="critical-1">
                    <label for="critical-1"><strong>Centrage absolu :</strong> La modale doit √™tre parfaitement centr√©e par rapport au viewport entier, pas seulement √† la zone de jeu</label>
                </li>
                <li>
                    <input type="checkbox" id="critical-2">
                    <label for="critical-2"><strong>Stabilit√© apr√®s scroll :</strong> Scrollez la page avant de d√©clencher le Game Over, la modale doit rester centr√©e</label>
                </li>
                <li>
                    <input type="checkbox" id="critical-3">
                    <label for="critical-3"><strong>Overlay complet :</strong> Le fond noir doit couvrir absolument tout l'√©cran, sans laisser voir d'√©l√©ments en arri√®re-plan</label>
                </li>
                <li>
                    <input type="checkbox" id="critical-4">
                    <label for="critical-4"><strong>Blocage total :</strong> Impossible de cliquer ou d'interagir avec quoi que ce soit d'autre que la modale</label>
                </li>
                <li>
                    <input type="checkbox" id="critical-5">
                    <label for="critical-5"><strong>Animations visibles :</strong> <code class="code">glow-pulse</code> sur la bordure et <code class="code">animation-delay-1000</code> sur les √©l√©ments d√©coratifs</label>
                </li>
            </ul>
        </div>

        <!-- Script de test -->
        <div class="card">
            <h2>üß™ Script de Test Automatique</h2>
            
            <div class="alert alert-info">
                <strong>üìã Instructions :</strong>
                <ol style="margin-top: 8px;">
                    <li>Copiez le script ci-dessous</li>
                    <li>Ouvrez la console DevTools sur l'application</li>
                    <li>Collez et ex√©cutez le script</li>
                    <li>Utilisez <code class="code">modalTester.testCurrentResolution()</code> pour tester</li>
                </ol>
            </div>

            <button onclick="copyTestScript()" class="btn btn-primary" style="margin: 16px 0;">
                üìã Copier le Script de Test
            </button>

            <div style="max-height: 300px; overflow-y: auto; background: rgba(15, 23, 42, 0.8); border: 1px solid #334155; border-radius: 8px; padding: 16px;">
                <pre id="test-script" style="color: #e2e8f0; font-size: 12px; white-space: pre-wrap;">// Chargement du script de test...
Veuillez cliquer sur "Copier le Script de Test" pour obtenir le code complet.</pre>
            </div>
        </div>

        <!-- Rapport de progression -->
        <div class="card">
            <h2>üìà Rapport de Progression</h2>
            
            <div style="text-align: center; margin: 20px 0;">
                <div style="font-size: 48px; font-weight: bold; color: #60a5fa;">0%</div>
                <p>Tests compl√©t√©s</p>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 0%"></div>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin: 20px 0;">
                <div style="text-align: center;">
                    <div style="font-size: 24px; font-weight: bold; color: #f59e0b;">0/7</div>
                    <p>Mobile</p>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 24px; font-weight: bold; color: #06b6d4;">0/7</div>
                    <p>Tablette</p>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 24px; font-weight: bold; color: #10b981;">0/7</div>
                    <p>Desktop</p>
                </div>
            </div>

            <div class="alert alert-warning">
                <strong>üìù Note :</strong> Cette progression sera mise √† jour manuellement au fur et √† mesure de vos tests. 
                Cochez les cases correspondantes dans chaque section pour suivre votre avancement.
            </div>
        </div>

    </div>

    <script>
        // Script de test √† copier
        const testScript = `// Test automatis√© de la modale Game Over sur diff√©rentes r√©solutions

class ModalTester {
  constructor() {
    this.results = [];
  }

  async testCurrentResolution() {
    console.log('üß™ D√©but des tests de la modale...');
    
    const width = window.innerWidth;
    const height = window.innerHeight;
    const resolutionName = this.getResolutionName(width);
    
    console.log(\`üì± Test sur r√©solution \${resolutionName} (\${width}x\${height}px)\`);

    const tests = [];

    // Test 1: Pr√©sence de l'overlay
    const overlay = document.querySelector('[class*="fixed"][class*="inset-0"][class*="bg-black"]');
    tests.push({
      name: 'Overlay pr√©sent',
      passed: !!overlay,
      details: overlay ? 'Overlay trouv√©' : 'Overlay non trouv√© - D√©clenchez d\\'abord un Game Over'
    });

    if (overlay) {
      // Test 2: Position fixed
      const overlayStyle = window.getComputedStyle(overlay);
      tests.push({
        name: 'Position fixed',
        passed: overlayStyle.position === 'fixed',
        details: \`Position: \${overlayStyle.position}\`
      });

      // Test 3: Couvre tout le viewport
      const rect = overlay.getBoundingClientRect();
      const coversViewport = rect.top === 0 && rect.left === 0 && 
                            rect.width === window.innerWidth && 
                            rect.height === window.innerHeight;
      tests.push({
        name: 'Couvre tout le viewport',
        passed: coversViewport,
        details: \`Overlay: \${Math.round(rect.width)}x\${Math.round(rect.height)} | Viewport: \${window.innerWidth}x\${window.innerHeight}\`
      });

      // Test 4: Z-index appropri√©
      tests.push({
        name: 'Z-index √©lev√©',
        passed: parseInt(overlayStyle.zIndex) >= 40,
        details: \`Z-index: \${overlayStyle.zIndex}\`
      });
    }

    // Test 5: Modale centr√©e
    const modalContainer = document.querySelector('[class*="fixed"][class*="flex"][class*="items-center"][class*="justify-center"]');
    tests.push({
      name: 'Container modal centr√©',
      passed: !!modalContainer,
      details: modalContainer ? 'Container modal trouv√©' : 'Container modal non trouv√©'
    });

    // Test 6: Animation glow-pulse
    const glowElement = document.querySelector('[class*="animate-glow-pulse"]');
    tests.push({
      name: 'Animation glow-pulse pr√©sente',
      passed: !!glowElement,
      details: glowElement ? '√âl√©ment avec glow-pulse trouv√©' : 'Aucun √©l√©ment avec glow-pulse'
    });

    // Test 7: Animation avec delay
    const delayElement = document.querySelector('[class*="animation-delay-1000"]');
    tests.push({
      name: 'Animation delay-1000 pr√©sente',
      passed: !!delayElement,
      details: delayElement ? '√âl√©ment avec delay trouv√©' : 'Aucun √©l√©ment avec delay'
    });

    // Affichage des r√©sultats
    tests.forEach(test => {
      console.log(\`\${test.passed ? '‚úÖ' : '‚ùå'} \${test.name}: \${test.details}\`);
    });

    const passed = tests.filter(t => t.passed).length;
    const total = tests.length;
    
    console.log(\`\\nüìä R√©sum√© \${resolutionName}: \${passed}/\${total} tests r√©ussis (\${Math.round(passed/total*100)}%)\`);
    
    return { resolution: resolutionName, width, height, tests, passed, failed: total - passed, total };
  }

  getResolutionName(width) {
    if (width < 768) return 'Mobile';
    if (width < 1280) return 'Tablette';
    if (width < 1440) return 'Desktop-1280';
    if (width < 1920) return 'Desktop-1440';
    return 'Desktop-1920+';
  }

  showInstructions() {
    console.log(\`
üéÆ GUIDE DE TEST DE LA MODALE GAME OVER
======================================

1Ô∏è‚É£ PR√âPARER LE TEST:
   ‚Ä¢ Ouvrir http://localhost:5176/ dans Chrome/Firefox
   ‚Ä¢ Ouvrir DevTools (F12) ‚Üí Device Toolbar
   ‚Ä¢ Configurer la r√©solution souhait√©e

2Ô∏è‚É£ TESTER:
   ‚Ä¢ Dans le jeu: perdre pour d√©clencher Game Over
   ‚Ä¢ Dans la console: modalTester.testCurrentResolution()

3Ô∏è‚É£ R√âSOLUTIONS √Ä TESTER:
   üì± Mobile: 375px, 390px
   üìü Tablette: 768px, 1024px
   üñ•Ô∏è Desktop: 1280px, 1440px, 1920px
    \`);
  }
}

// Initialiser
window.modalTester = new ModalTester();
console.log('üéÆ Testeur de modale initialis√©! Tapez modalTester.showInstructions() pour voir le guide.');`;

        function copyTestScript() {
            navigator.clipboard.writeText(testScript).then(function() {
                // Feedback visuel
                const button = event.target;
                const originalText = button.textContent;
                button.textContent = '‚úÖ Copi√©!';
                button.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = 'linear-gradient(135deg, #3b82f6, #1d4ed8)';
                }, 2000);
                
                // Mettre √† jour l'affichage du script
                document.getElementById('test-script').textContent = testScript;
            }).catch(function(err) {
                alert('Erreur lors de la copie: ' + err);
            });
        }

        // Initialisation au chargement
        document.addEventListener('DOMContentLoaded', function() {
            // V√©rifier si le serveur tourne
            fetch('http://localhost:5176/')
                .then(response => {
                    if (response.ok) {
                        console.log('‚úÖ Serveur de d√©veloppement d√©tect√© sur le port 5176');
                    }
                })
                .catch(() => {
                    const alert = document.createElement('div');
                    alert.className = 'alert alert-warning';
                    alert.innerHTML = '<strong>‚ö†Ô∏è Serveur non d√©tect√© :</strong> Assurez-vous que <code>npm run dev</code> est en cours d\\'ex√©cution sur le port 5176.';
                    document.querySelector('.container').insertBefore(alert, document.querySelector('.card'));
                });
        });
    </script>
</body>
</html>
